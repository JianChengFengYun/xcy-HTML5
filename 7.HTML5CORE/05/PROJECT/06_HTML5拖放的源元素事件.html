<!DOCTYPE html>
<html>
 <head>
  <title>HTML5拖放的源元素事件</title>
  <meta charset="utf-8" />
  <style>
	#d1 {
		width : 300px;
		height : 300px;
		border : solid 1px black;
	}
	#d2 {
		width : 300px;
		height : 100px;
		border : solid 1px black;
	}
  </style>
 </head>

 <body>
  <!-- <div>元素用于显示源元素(图片) -->
  <div id="d1">
	<img id="myimg" src="Penguins.jpg" width="256" />
  </div>
  <!-- <div>元素用于显示测试结果 -->
  <div id="d2"></div>
  <script>
	/*
	 * HTML页面默认是不允许实现拖放功能
	 * * HTML页面中显示的图片 - 源元素
	 */
	// 1. 获取HTML页面要拖放的源元素
	var myimg = document.getElementById("myimg");
	var d2 = document.getElementById("d2");
	// 2. 为源元素绑定源元素事件
	myimg.addEventListener("dragstart",MyDragStart);
	myimg.addEventListener("drag",MyDrag);
	myimg.addEventListener("dragend",MyDragEnd);
	// 3. 定义事件对应的处理函数
	function MyDragStart(){
		// 开始拖放时被执行
		d2.innerHTML += "图片开始被拖放<br>";
	}
	function MyDrag(event){
		/*
		 * 拖放过程中,获取鼠标的当前坐标值
		 * * x轴 - pageX/clientX/offsetX/x
		 * * y轴 - pageY/clientY/offsetY/y
		 */
		d2.innerHTML += "图片一直在拖放...<br>";
	}
	function MyDragEnd(){
		// 结束拖放时被执行
		d2.innerHTML += "图片结束被拖放<br>";
	}
  </script>
 </body>
</html>